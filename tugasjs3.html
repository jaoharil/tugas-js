<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>tugas 3 javascript</title>
  </head>
  <body>
    <table style="padding: 10; text-align: center; width: 100%">
      <thead>
        <tr>
          <th>No</th>
          <th>Pegawai</th>
          <th>Jabatan</th>
          <th>Gaji Pokok</th>
          <th>Agama</th>
          <th>Tunjangan Jabatan</th>
          <th>Tunjangan Kesehatan</th>
          <th>Tunjangan Kotor</th>
          <th>Take Home Pay</th>
        </tr>
      </thead>
      <tbody>
        <script>
          //data nama pegawai
          let pegawai = ['jo', 'Jaoharil', 'Dani', 'Riski', 'Hafiz', 'Alfan', 'Aril', 'Daos', 'Kani', 'Solihun'];
          let no = 1;
          for (let i = 1; i <= 10; i++) {
            let jabatan = '';
            let gapok = 0;
            let tunjanganJabatan = 0;
            let tunjanganKesehatan = 0;
            let gajiKotor = 0;
            let agama = i % 2 === 1 ? 'Muslim' : 'Non Muslim';
            let warnaBaris = i % 2 === 1 ? 'yellow' : 'blue';
            let zakatProfesi = 0;
            let takeHomePay = 0;

            // menggunakan If multikondisi untuk menentukan jabatan:
            if (i >= 1 && i <= 2) {
              jabatan = 'Manager';
            } else if (i >= 3 && i <= 5) {
              jabatan = 'Asisten Manager';
            } else if (i >= 6 && i <= 8) {
              jabatan = 'Supervisor';
            } else if (i >= 9 && i <= 10) {
              jabatan = 'Staff';
            } else {
              jabatan = ' ';
            }

            // Menggunakan switch case untuk menghitung gapok
            switch (jabatan) {
              case 'Manager':
                gapok = 15000000;
                break;
              case 'Asisten Manager':
                gapok = 10000000;
                break;
              case 'Supervisor':
                gapok = 7000000;
                break;
              case 'Staff':
                gapok = 4000000;
                break;
              default:
                gapok = 0;
                break;
            }

            tunjanganJabatan = 0.2 * gapok;
            tunjanganKesehatan = 0.1 * gapok;
            gajiKotor = gapok + tunjanganJabatan + tunjanganKesehatan;

            // jika pegawai muslim dan gaji kotornya minimal 7jt, ada zakat profesi sebesar 2,5% dari gaji kotornya
            if (agama === 'Muslim' && gajiKotor >= 7000000) {
              zakatProfesi = 0.025 * gajiKotor;
            }

            takeHomePay = gajiKotor - zakatProfesi;

            document.write(`
                        <tr bgcolor="${warnaBaris}">
                            <td>${no++}</td>
                            <td>${pegawai[i - 1]}</td>
                            <td>${jabatan}</td>
                            <td>${gapok}</td>
                            <td>${agama}</td>
                            <td>${tunjanganJabatan}</td>
                            <td>${tunjanganKesehatan}</td>
                            <td>${gajiKotor}</td>
                            <td>${takeHomePay}</td>
                        </tr>
                    `);
          }
        </script>
      </tbody>
    </table>
  </body>
</html>
